<div class="opti_container position-relative bg-white rounded">
    <form class="form-with-fix-btnBar" *ngIf="!viewLines">
        <div class="opti_container_inner" [perfectScrollbar]=" ">

            <h3 class="border-bottom d-flex pt-1 pb-3 mb-4">
                {{'Inbound_GoodsReceiptPO'|translate}}
            </h3>
            <div class="row">
                <div class="col-12 col-sm-12 col-md-12 col-lg-8 col-xl-6">

                    <div class="form-group row">
                        <label for="inputPassword" class="col-sm-3 col-form-label">{{'VendorCode'|translate}}</label>
                        <div class="col-sm-9">
                            <div class="input-group input-group-sm">
                                <input type="text" class="form-control form-control-sm" name="VendCode" [(ngModel)]="VendCode" placeholder="{{'VendorCode'|translate}}"
                                    (blur)="OnVendorChangeBlur()" #VendScanInputField [disabled]=showGRPOGridAndBtn id="InboundDetailVendScanInputField">
                                <div class="input-group-append">
                                    <button tabIndex="-1" class="k-button k-primary btn" type="button" (mousedown)="onVendorLookupClick()" [disabled]=showGRPOGridAndBtn>
                                        <i class="opti-icon-hammenu"></i>
                                    </button>
                                </div>
                                <div class="ml-1 d-flex">
                                    <button tabIndex="-1" type="button" id="inboundDetailVendorScanButton" class="btn btn-light k-button btn-sm btn-transparent btn-icon separate-btn p-0">
                                        <i class="opti-icon-qr-code fs-24"></i>
                                    </button>
                            </div>
                        </div>
                    </div>
                    </div>
                    <div class="form-group row">
                        <label for="inputPassword" class="col-sm-3 col-form-label">{{'Inbound_VendorName'|translate}}</label>
                        <div class="col-sm-9">
                            <div class="input-group input-group-sm">
                                <input type="text" class="form-control form-control-sm" name="VendName" [(ngModel)]="VendName" [disabled]="true">
                            </div>
                        </div>
                    </div>
                    <div class="form-group row">
                            <label for="inputPassword" class="col-sm-3 col-form-label">{{'Inbound_PO#'|translate}}</label>
                            <div class="col-sm-9">
                                <div class="input-group input-group-sm">
                                    <input type="text" #poScanInputField class="form-control form-control-sm" name="poCode" [(ngModel)]="poCode" placeholder="{{'Inbound_PO#'|translate}}"
                                        (blur)="OnPOChangeBlur()" id="inboundDetailPOScanInputField">
                                    <div class="input-group-append">
                                        <button tabIndex="-1" class="k-button k-primary btn" type="button" (mousedown)="onPOlookupClick()">
                                            <i class="opti-icon-hammenu"></i>
                                        </button>
                                    </div>
                                    <div class="ml-1 d-flex">
                                        <button tabIndex="-1" type="button" id="inboundDetailPOScanButton" class="btn btn-light k-button btn-sm btn-transparent btn-icon separate-btn p-0">
                                            <i class="opti-icon-qr-code fs-24"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                    <div class="form-group row">
                            <label for="inputPassword" class="col-sm-3 col-form-label">{{'Inbound_VendRefNo'|translate}}</label>
                            <div class="col-sm-9">
                                <div class="input-group input-group-sm">
                                    <input #scanVenderRefNo type="text" class="form-control form-control-sm" id="venderRefNo" name="VendRefNo" [(ngModel)]="VendRefNo" placeholder="{{'Inbound_VendRefNo'|translate}}"
                                        (blur)="OnVendRefNoChangeBlur()">
    
                                </div>
                            </div>
                        </div>

                   

                  
                </div>
            </div>

            <!-- Kendo Table Grid Row start -->
            <div class="row" *ngIf="showGRPOGridAndBtn">
                <div class="col-12 col-sm-12 col-md-12">
                    <kendo-grid class="no-shadow" [kendoGridBinding]="Polist" [resizable]="true" [sortable]="true" [height]=gridHeight [selectable]="true"
                        (selectionChange)="onPOSelection($event)" #gridItem>

                        <!-- grid for mobile start -->
                        <kendo-grid-column media="(max-width: 767px)" class="opti_mobile-grid-td" title="{{'Inbound_POList'|translate}}">
                            <ng-template kendoGridCellTemplate let-dataItem let-rowIndex="rowIndex">
                                <dl class="opti_mobile_grid_dl w-100">
                                    <dt class="d-flex align-items-center">{{'Inbound_PurchaseOrderNumber'|translate}}
                                        <div class="d-flex align-items-center  ml-auto">
                                            <span class="opti_arrow-grid-detail text-center opti_vertical-align">â€º</span>
                                            <button class="btn btn-danger k-button btn-sm btn-icon ml-2" type="button" (mousedown)="openConfirmForDelete(rowIndex, gridItem)">
                                                <span class="k-icon k-i-delete"></span>
                                            </button>
                                        </div>
                                    </dt>
                                    <dd>{{ dataItem.PONumber }}</dd>
                                </dl>
                            </ng-template>
                        </kendo-grid-column>
                        <!-- grid for mobile end -->

                        <kendo-grid-column media="(min-width: 768px)" field="PONumber" headerClass="text-center" class="text-center" title="{{'Inbound_PurchaseOrderNumber'|translate}}"
                            [width]="90"></kendo-grid-column>
                        <kendo-grid-column media="(min-width: 768px)" field="" headerClass="text-center" class="text-center" title="" [width]="10">
                            <ng-template kendoGridCellTemplate let-dataItem let-rowIndex="rowIndex">
                                <button class="btn btn-danger k-button btn-sm btn-icon" type="button" (mousedown)="openConfirmForDelete(rowIndex, gridItem)">
                                    <span class="k-icon k-i-delete"></span>
                                </button>
                            </ng-template>
                        </kendo-grid-column>
                    </kendo-grid>
                </div>
            </div>
            <!-- Kendo Table Grid Row end -->

        </div>
        <div class="fix-footer-btnBar">
            <div class="col-sm-12 col-12">
                <hr />
            </div>
            <div class="col-sm-12 col-12">
                <button type="button" class="btn btn-danger k-button btn-sm btn-icon-with-text" (mousedown)="OnCancelClick()">
                    <span class="k-icon k-i-close-outline" role="presentation"></span> {{'Cancel'|translate}}</button>
                <button *ngIf="showGRPOGridAndBtn" class="btn btn-success k-button btn-sm btn-icon-with-text" type="button" (mousedown)="receive()">
                    <span class="k-icon k-i-check" role="presentation"></span> {{'Receive'|translate}}</button>

                <button type="button" class="btn btn-outline-secondary btn-sm btn-transparent btn-icon" (mousedown)="onNextClick()" [disabled]="!showNext"
                    skipLocationChange>
                    <i class="opti-icon-arrow-next"></i>
                </button>

                <button type="button" id="hid_InboundDetailVendCodeScanButton" style="visibility:hidden" (click)="onHiddenVendCodeScanClick()" class="btn btn-light k-button btn-sm btn-transparent btn-icon separate-btn p-0">
                    Btn </button>

                <button type="button" id="hid_InboundDetailPOScanButton" style="visibility:hidden" (click)="onHiddenSOScanClick()"
                    class="btn btn-light k-button btn-sm btn-transparent btn-icon separate-btn p-0">
                    Btn </button>
            </div>
        </div>
    </form> 

</div>
<span *ngIf="showLookupLoader == false">
    <app-lookup [lookupfor]='lookupfor' [serviceData]='serviceData' (lookupvalue)="getLookupValue($event)"></app-lookup>
</span>

<span *ngIf="showConfirmDialog">
    <app-comon-confirm-dialog [titleMessage]="dialogMsg" [yesButtonText]="yesButtonText" [fromWhere]="dialogFor" [noButtonText]="noButtonText"
        (isYesClick)="getConfirmDialogValue($event)"></app-comon-confirm-dialog>
</span>
<div class="opti_loader full-section" *ngIf="showLoader">
    <div class="opti_spinner"></div>
</div>

<span *ngIf="showConfirmDialog">
    <app-comon-confirm-dialog [titleMessage]="dialogMsg" [yesButtonText]="yesButtonText" [fromWhere]="dialogFor" [noButtonText]="noButtonText"
        (isYesClick)="getConfirmDialogValue($event)"></app-comon-confirm-dialog>
</span>

<div>
    <app-display-pdf *ngIf="displayPDF1" [base64String]='base64String' [fileName]='fileName' (pdfClose)="closePDF($event)"></app-display-pdf>
</div>

<div class="opti_loader full-section" *ngIf="showLoader">
    <div class="opti_spinner"></div>
</div>